imports:
    - { resource: services.yml }

# The secret is only required to sign fragment URLs which is not used
framework:
    secret: ''
    default_locale: en

security:
    password_hashers:
        Symfony\Component\Security\Core\User\PasswordAuthenticatedUserInterface: 'auto'

    providers:
        contao_manager_user_provider:
            id: Contao\ManagerApi\Security\UserProvider

    firewalls:
        api:
            stateless: true
            provider: contao_manager_user_provider
            custom_authenticators:
                - Contao\ManagerApi\Security\LoginAuthenticator
                - Contao\ManagerApi\Security\PasswordlessAuthenticator
                - Contao\ManagerApi\Security\JwtAuthenticator
                - Contao\ManagerApi\Security\TokenAuthenticator

    access_control:
        - { path: ^/api/session$, roles: PUBLIC_ACCESS }
        - { path: ^/api, roles: ROLE_ADMIN }
